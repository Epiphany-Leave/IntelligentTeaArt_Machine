### 第一步：照着UP的步骤copy到工程

CUBEMAX初始化ESP8266对应串口（115200）

![1](..\移植HAL库\1.png)

### 第二步：修改外部替换函数

![1](..\移植HAL库\2.1.png)
uart2_init不使用，prinf为调试串口重定向

![1](..\移植HAL库\2.2.png)

### 第三步：修改wireless_init

![1](..\移植HAL库\3.1.png)

只需要把wireless_serial_init(115200)注释掉即可

### 第四步：完善串口中断部分

![1](..\移植HAL库\4.1.png)

### 第五步：加入定时器中断

在CUBEMAX开启一个3000ms的定时器（优先级要高）
![6.2](..\移植HAL库\6.1.png)

在定时器中断中写如上（比如开启定时器16）

### 第六步：完善main.c文件部分

1. 包含头文件

2. 在main.c文件外设置串口中断传递数据
   ![1](..\移植HAL库\5.1.png)
   在.h文件使用extern方便多文件使用
   ![1](..\移植HAL库\5.2.png)

3. 在while(1)前初始化串口中断与WIFI
   ![1](..\移植HAL库\5.3.png)

   记得延时保证WIFI完全上电完毕

4. while(1)中执行代码
   ![1](..\移植HAL库\5.4.png)
   照UP的格式写即可



# 这样就可以了~